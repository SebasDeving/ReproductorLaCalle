<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REPRODUCTOR - LA CALLE</title>
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/fontawesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/brands.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/solid.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/regular.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    
    <!-- Widget script de Antyserv que proporciona información de la canción wadwad-->
    <script id='sonic_js' data-port='8218' src='https://antyserv.in/cp/widgets.js?r=321'></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <style>
        body {
            background-color: rgba(0, 0, 0, 0.911); 
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: Arial, sans-serif;
            position: relative;
            overflow: hidden;
        }

        /* Contenedor de notas por todo el body */
        .notas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .nota-musical {
            position: absolute;
            color: white;
            font-size: 20px;
            opacity: 0;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
            animation: flotar var(--duracion, 3s) ease-out forwards;
            z-index: 0;
            bottom: 0;
            transition: opacity 0.5s ease-out;
            will-change: transform, opacity;
        }

        .particula {
            position: absolute;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            z-index: 0;
        }

        .brillo {
            position: absolute;
            background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            z-index: 0;
            width: 30px;
            height: 30px;
            animation: brillar var(--duracion, 4s) ease-in-out infinite;
        }

        .brillo-pequeno {
            width: 15px;
            height: 15px;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
        }

        .brillo-grande {
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
        }

        .reproductor {
            background: rgb(26 26 26 / 15%);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 17px 4em 0em;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), inset 0 0 15px rgba(255, 0, 0, 0.2);
            text-align: center;
            width: 458px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 0, 0, 0.1);
            animation: ambientGlow 4s ease-in-out infinite;
        }

        .reproductor::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, 
                rgba(255, 0, 0, 0.1) 0%,
                transparent 50%);
            animation: rotateBg 15s linear infinite;
            pointer-events: none;
        }

        .reproductor::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg,
                transparent 0%,
                rgba(255, 255, 255, 0.05) 45%,
                rgba(255, 255, 255, 0.1) 50%,
                rgba(255, 255, 255, 0.05) 55%,
                transparent 100%
            );
            animation: shimmerEffect 3s linear infinite;
            pointer-events: none;
        }

        @keyframes ambientGlow {
            0%, 100% {
                box-shadow: 
                    0 10px 30px rgba(0, 0, 0, 0.3),
                    inset 0 0 15px rgba(255, 0, 0, 0.2),
                    0 0 20px rgba(255, 0, 0, 0.1);
            }
            50% {
                box-shadow: 
                    0 10px 30px rgba(0, 0, 0, 0.3),
                    inset 0 0 25px rgba(255, 0, 0, 0.3),
                    0 0 30px rgba(255, 0, 0, 0.2);
            }
        }

        @keyframes rotateBg {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes shimmerEffect {
            0% {
                transform: translateX(-100%) skewX(-45deg);
            }
            100% {
                transform: translateX(100%) skewX(-45deg);
            }
        }

        /* Asegurar que todos los elementos del reproductor estén por encima */
        .titulo {
            font-size: 35px;
            margin-bottom: 30px;
            font-family: 'Russo One', sans-serif;
            text-transform: uppercase;
            position: relative;
            display: flex;
            justify-content: center;
            gap: 5px;
            perspective: 1000px;
            transform-style: preserve-3d;
        }

        .titulo span {
            display: inline-block;
            position: relative;
            color: #ffffff;
            text-shadow: 
                0 1px 0 #ccc,
                0 2px 0 #ccc,
                0 3px 0 #ccc,
                0 4px 0 #ccc,
                0 5px 0 #ccc,
                0 6px 0 transparent,
                0 7px 0 transparent,
                0 8px 0 transparent,
                0 9px 0 transparent,
                0 10px 10px rgba(255, 0, 0, 0.6);
            transform-style: preserve-3d;
            animation: tituloAnimado 4s ease-in-out infinite;
            animation-delay: calc(0.1s * var(--i));
        }

        .titulo::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 4px;
            bottom: -15px;
            left: 0;
            background: linear-gradient(90deg, 
                transparent,
                rgba(255, 0, 0, 0.8),
                #ff0000,
                rgba(255, 0, 0, 0.8),
                transparent);
            filter: blur(2px);
            animation: lineaEnergia 2s linear infinite;
            box-shadow: 
                0 0 10px rgba(255, 0, 0, 0.5),
                0 0 20px rgba(255, 0, 0, 0.3),
                0 0 30px rgba(255, 0, 0, 0.1);
        }

        @keyframes tituloAnimado {
            0%, 100% {
                transform: 
                    rotateX(0deg) 
                    rotateY(0deg) 
                    translateZ(0px);
                filter: brightness(1);
            }
            25% {
                transform: 
                    rotateX(15deg) 
                    rotateY(10deg) 
                    translateZ(30px);
                filter: brightness(1.2);
            }
            50% {
                transform: 
                    rotateX(-10deg) 
                    rotateY(-15deg) 
                    translateZ(20px);
                filter: brightness(1.5);
                text-shadow: 
                    0 1px 0 #ccc,
                    0 2px 0 #ccc,
                    0 3px 0 #ccc,
                    0 4px 0 #ccc,
                    0 5px 0 #ccc,
                    0 6px 0 transparent,
                    0 7px 0 transparent,
                    0 8px 0 transparent,
                    0 9px 0 transparent,
                    0 10px 30px rgba(255, 0, 0, 0.8);
            }
            75% {
                transform: 
                    rotateX(10deg) 
                    rotateY(-10deg) 
                    translateZ(40px);
                filter: brightness(1.2);
            }
        }

        @keyframes lineaEnergia {
            0% {
                background-position: -200% 0;
                opacity: 0.5;
            }
            50% {
                opacity: 1;
                box-shadow: 
                    0 0 20px rgba(255, 0, 0, 0.8),
                    0 0 30px rgba(255, 0, 0, 0.6),
                    0 0 40px rgba(255, 0, 0, 0.4);
            }
            100% {
                background-position: 200% 0;
                opacity: 0.5;
            }
        }

        .titulo span:hover {
            animation: none;
            transform: 
                scale(1.2) 
                translateZ(50px) 
                rotateX(360deg);
            transition: all 0.5s ease-in-out;
            text-shadow: 
                0 1px 0 #ccc,
                0 2px 0 #ccc,
                0 3px 0 #ccc,
                0 4px 0 #ccc,
                0 5px 0 #ccc,
                0 6px 0 transparent,
                0 7px 0 transparent,
                0 8px 0 transparent,
                0 9px 0 transparent,
                0 10px 20px rgba(255, 0, 0, 1);
        }

        .titulo::after {
            content: '';
            position: absolute;
            width: 120%;
            height: 100%;
            left: -10%;
            top: -10%;
            background: radial-gradient(
                circle at center,
                transparent 50%,
                rgba(255, 0, 0, 0.1) 100%
            );
            filter: blur(5px);
            animation: brilloRadial 4s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes brilloRadial {
            0%, 100% {
                opacity: 0.3;
                transform: scale(1);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.1);
            }
        }

        @keyframes brilloBarrido {
            0% {
                transform: translateX(-150%) skewX(-45deg);
            }
            50% {
                transform: translateX(0%) skewX(-45deg);
            }
            100% {
                transform: translateX(150%) skewX(-45deg);
            }
        }

        /* Efecto hover mejorado */
        .titulo span:hover {
            animation: letraHover 0.5s ease-out forwards;
            cursor: default;
        }

        @keyframes letraHover {
            0% {
                transform: scale(1) translateZ(0);
            }
            50% {
                transform: scale(1.5) translateZ(50px) rotateY(180deg);
            }
            100% {
                transform: scale(1.2) translateZ(30px) rotateY(360deg);
            }
        }

        /* Efecto de energía en la línea inferior */
        .titulo::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 3px;
            bottom: -10px;
            left: 0;
            background: linear-gradient(90deg, 
                transparent,
                #ff0000,
                #ffffff,
                #ff0000,
                transparent);
            background-size: 200% 100%;
            animation: energiaLinea 2s linear infinite;
            box-shadow: 0 0 15px currentColor;
        }

        @keyframes energiaLinea {
            0% {
                background-position: -200% 0;
                opacity: 0.5;
            }
            50% {
                opacity: 1;
            }
            100% {
                background-position: 200% 0;
                opacity: 0.5;
            }
        }

        @keyframes letrasEfecto {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
                filter: brightness(1);
            }
            25% {
                transform: translateY(-5px) rotate(5deg);
                filter: brightness(1.2);
            }
            50% {
                transform: translateY(0) rotate(0deg);
                filter: brightness(1.5);
            }
            75% {
                transform: translateY(5px) rotate(-5deg);
                filter: brightness(1.2);
            }
        }

        @keyframes lineaBrillo {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        /* Efecto hover en las letras */
        .titulo span:hover {
            animation: letraHover 0.5s ease-in-out forwards;
            cursor: default;
        }

        @keyframes letraHover {
            0% {
                transform: scale(1) translateY(0);
            }
            50% {
                transform: scale(1.4) translateY(-10px);
            }
            100% {
                transform: scale(1.2) translateY(-5px);
            }
        }

        .titulo::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 0, 0, 0.1), transparent);
            animation: brilloMovimiento 3s ease-in-out infinite;
        }

        @keyframes tituloGlow {
            0%, 100% {
                text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
                transform: scale(1);
            }
            50% {
                text-shadow: 0 0 20px rgba(255, 0, 0, 0.8),
                            0 0 30px rgba(255, 0, 0, 0.3);
                transform: scale(1.05);
            }
        }

        @keyframes lineaMovimiento {
            0%, 100% {
                transform: scaleX(0.3);
                opacity: 0.3;
            }
            50% {
                transform: scaleX(1);
                opacity: 1;
            }
        }

        @keyframes brilloMovimiento {
            0% {
                transform: translateX(-100%);
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* Efecto de letras individuales */
        .titulo span {
            display: inline-block;
            animation: letraFlotante 2s ease-in-out infinite;
            animation-delay: calc(0.1s * var(--i));
        }

        @keyframes letraFlotante {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
        }

        .control-buttons {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .control-btn {
            background: linear-gradient(145deg, #ff0000, #cc0000);
            color: #ffffff;
            border: none;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 0, 0, 0.4);
            background: linear-gradient(145deg, #ff1a1a, #e60000);
        }

        .control-btn.active {
            background: linear-gradient(145deg, #e60000, #b30000);
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        #playPause {
            width: 50px;
            height: 50px;
            font-size: 20px;
        }

        .volumen {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            width: 80%;
            margin-left: auto;
            margin-right: auto;
        }

        #volumenIcon {
            color: #ffffff;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 20px;
            text-align: center;
        }

        #volumenIcon:hover {
            color: #ff0000;
            transform: scale(1.1);
        }

        #volumenControl {
            flex: 1;
            max-width: 200px;
            height: 5px;
            -webkit-appearance: none;
            border-radius: 5px;
            background: #ff0000;
            accent-color: #ffffff;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
            border: none;
            cursor: pointer;
            outline: none;
        }

        #volumenControl::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 15px;
            height: 15px;
            background: #ffffff;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        #volumenControl::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.7);
        }

        #volumenControl::-moz-range-thumb {
            width: 15px;
            height: 15px;
            background: #ffffff;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
            border: none;
        }

        #volumenControl::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.7);
        }

        .estado {
            color: #ff0000;
            margin-top: 15px;
            font-size: 14px;
            position: relative;
            z-index: 2;
        }

        /* Estilos para el botón y contenedor del historial */
        .historial-btn {
            background: linear-gradient(145deg, #ff0000, #cc0000);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 2;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.2);
        }

        .historial-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 0, 0, 0.3);
        }

        .historial-container {
            display: none;
            position: fixed;
            background: rgb(0 0 0 / 62%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 0, 0, 0.2);
            border-radius: 15px;
            padding: 48px;
            width: 443px;
            max-height: 367px;
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            top: 70px;
            right: 20px;
            transform: translateY(-20px);
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
            overflow: hidden;
        }

        .historial-container.mostrar {
            display: block;
            transform: translateY(0);
            opacity: 1;
            pointer-events: all;
        }

        .historial-item {
            color: #ffffff;
            padding: 12px;
            border-bottom: 1px solid rgba(255, 0, 0, 0.1);
            font-family: 'Orbitron', sans-serif;
            font-size: 14px;
            transition: background-color 0.3s ease;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .historial-item:hover {
            background-color: rgba(255, 0, 0, 0.1);
        }

        .historial-item:last-child {
            border-bottom: none;
        }

        #sonic_history {
            color: #ffffff;
            text-align: center;
            margin-top: -1em;
        }

        .dj-container {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            margin: 20px 0;
            border-radius: 15px;
            border: 1px solid rgba(255, 0, 0, 0.1);
            box-shadow: inset 0 0 10px rgba(255, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            width: 100%;
            box-sizing: border-box;
            text-align: center;
        }

        .dj-containerDJ {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 20px;
            border-radius: 20px;
            width: fit-content;
            border: 1px solid rgba(255, 0, 0, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .dj-containerDJ:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 0, 0, 0.2);
            background: rgba(0, 0, 0, 0.4);
        }

        .listeners-container {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 20px;
            border-radius: 20px;
            width: fit-content;
            border: 1px solid rgba(255, 0, 0, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            position: absolute;
            top: 63px;
            right: 489px;
            z-index: 10;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #ffffff;
        }

        .listeners-container:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 0, 0, 0.2);
            background: rgba(0, 0, 0, 0.4);
        }

        .listeners-container i {
            font-size: 14px;
        }

        .listeners-count {
            color: #ffffff;
            font-size: 14px;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-height: 16px;
            display: inline-block;
            vertical-align: middle;
        }

        .dj-containerDJ i {
            color: #ffffff;
            font-size: 14px;
            margin-right: 8px;
        }

        .dj-name {
            color: #ffffff;
            font-size: 14px;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-height: 16px;
            display: inline-block;
            vertical-align: middle;
        }

        .cancion-actual {
            color: #ffffff;
            font-size: 18px;
            font-family: 'Orbitron', sans-serif;
            white-space: nowrap;
            display: inline-block;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
            animation: scrollText 15s linear infinite;
            padding-left: 100%;
            will-change: transform;
            text-align: center;
        }

        @keyframes scrollText {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-100%);
            }
        }

        .dj-container:hover .cancion-actual {
            animation-play-state: paused;
        }

        .album-art {
            width: 150px;
            height: 150px;
            margin: 20px auto;
            border-radius: 15px;
            background-color: #2a2a2a;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3),
                        0 0 15px rgba(255, 0, 0, 0.2);
            position: relative;
            z-index: 2;
            transition: all 0.5s ease;
            animation: floatEffect 6s ease-in-out infinite;
        }

        @keyframes floatEffect {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .album-art::before {
            content: '';
            position: absolute;
            width: 150%;
            height: 150%;
            background: conic-gradient(
                from 0deg,
                transparent 0%,
                rgba(255, 0, 0, 0.1) 25%,
                rgba(255, 0, 0, 0.2) 50%,
                rgba(255, 0, 0, 0.1) 75%,
                transparent 100%
            );
            animation: rotateHalo 10s linear infinite;
        }

        @keyframes rotateHalo {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .album-art img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
            will-change: transform;
            filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.3));
        }

        .album-art:hover img {
            transform: scale(1.1);
        }

        .album-art::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(
                circle at center,
                transparent 50%,
                rgba(0, 0, 0, 0.3) 100%
            );
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .album-art:hover::after {
            opacity: 1;
        }

        @keyframes flotar {
            0% {
                transform: translate(var(--moveX1), var(--moveY1)) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            15% {
                transform: translate(var(--moveX2), var(--moveY2)) rotate(90deg) scale(0.8);
                opacity: 0.8;
            }
            40% {
                transform: translate(var(--moveX3), var(--moveY3)) rotate(180deg) scale(1);
                opacity: 0.6;
            }
            65% {
                transform: translate(var(--moveX4), var(--moveY4)) rotate(270deg) scale(0.4);
                opacity: 0.4;
            }
            85% {
                transform: translate(var(--moveX5), var(--moveY5)) rotate(360deg) scale(0.2);
                opacity: 0.2;
            }
            100% {
                transform: translate(var(--moveX5), var(--moveY5)) rotate(360deg) scale(0);
                opacity: 0;
            }
        }

        @keyframes particula {
            0% {
                transform: translate(var(--startX), var(--startY)) scale(0);
                opacity: 0;
            }
            25% {
                transform: translate(var(--moveX2), var(--moveY2)) scale(0.5);
                opacity: 0.5;
            }
            50% {
                transform: translate(var(--moveX3), var(--moveY3)) scale(0.7);
                opacity: 0.7;
            }
            75% {
                transform: translate(var(--moveX4), var(--moveY4)) scale(0.5);
                opacity: 0.5;
            }
            100% {
                transform: translate(var(--endX), var(--endY)) scale(0);
                opacity: 0;
            }
        }

        @keyframes brillar {
            0% {
                transform: scale(0.3);
                opacity: 0;
            }
            25% {
                transform: scale(1);
                opacity: var(--max-opacity, 0.3);
            }
            50% {
                transform: scale(0.6);
                opacity: var(--min-opacity, 0.1);
            }
            75% {
                transform: scale(1.2);
                opacity: var(--max-opacity, 0.3);
            }
            100% {
                transform: scale(0.3);
                opacity: 0;
            }
        }

        .lightning-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .lightning {
            position: absolute;
            background: white;
            width: 2px;
            height: 30px;
            transform-origin: top;
            filter: blur(1px);
            opacity: 0;
        }

        .lightning-zigzag {
            position: absolute;
            width: 2px;
            height: 100px;
            background: transparent;
            opacity: 0;
            clip-path: polygon(
                50% 0%, 45% 25%, 55% 50%, 45% 75%, 55% 100%,
                45% 75%, 55% 50%, 45% 25%, 50% 0%
            );
            background: linear-gradient(to bottom, 
                rgba(255, 255, 255, 1),
                rgba(135, 206, 235, 0.8)
            );
            filter: blur(1px) brightness(1.5);
            box-shadow: 
                0 0 10px #fff,
                0 0 20px #fff,
                0 0 30px #87cefa,
                0 0 40px #87cefa;
        }

        .lightning-branch {
            position: absolute;
            width: 3px;
            height: 60px;
            background: white;
            opacity: 0;
            transform-origin: top;
            filter: blur(1px) brightness(1.5);
            box-shadow: 
                0 0 10px #fff,
                0 0 20px #87cefa;
        }

        .lightning-branch::before,
        .lightning-branch::after {
            content: '';
            position: absolute;
            width: 2px;
            height: 30px;
            background: white;
            top: 20px;
            transform-origin: top;
        }

        .lightning-branch::before {
            left: 0;
            transform: rotate(-30deg);
        }

        .lightning-branch::after {
            right: 0;
            transform: rotate(30deg);
        }

        @keyframes lightningFlash {
            0%, 100% {
                opacity: 0;
                filter: blur(1px) brightness(1);
            }
            5%, 25% {
                opacity: 1;
                filter: blur(1px) brightness(1.5);
            }
            15%, 45% {
                opacity: 0.6;
                filter: blur(2px) brightness(1.2);
            }
            65% {
                opacity: 0.3;
                filter: blur(3px) brightness(1);
            }
        }

        @keyframes lightningZigzag {
            0% {
                opacity: 0;
                transform: scaleY(0) translateY(0);
            }
            25% {
                opacity: 1;
                transform: scaleY(1);
            }
            50% {
                opacity: 0.7;
                transform: scaleY(1) translateY(20%);
            }
            100% {
                opacity: 0;
                transform: scaleY(1) translateY(100%);
            }
        }

        @keyframes lightningBranch {
            0% {
                opacity: 0;
                transform: scaleY(0);
            }
            25% {
                opacity: 1;
                transform: scaleY(1);
            }
            50% {
                opacity: 0.7;
            }
            100% {
                opacity: 0;
            }
        }

        .thunder-flash {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at var(--x) var(--y),
                rgba(255, 255, 255, 0.9) 0%,
                rgba(135, 206, 235, 0.3) 30%,
                transparent 70%);
            opacity: 0;
            mix-blend-mode: screen;
        }

        @keyframes thunderFlash {
            0%, 100% {
                opacity: 0;
            }
            5% {
                opacity: 0.8;
            }
            15% {
                opacity: 0.3;
            }
            25% {
                opacity: 0.5;
            }
            35% {
                opacity: 0.2;
            }
        }

        .thunder-glow {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at var(--x) var(--y),
                rgba(255, 255, 255, 0.8) 0%,
                rgba(255, 255, 255, 0.1) 20%,
                transparent 40%);
            opacity: 0;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes thunderGlow {
            0% {
                opacity: 0;
            }
            5% {
                opacity: 0.8;
            }
            15% {
                opacity: 0.3;
            }
            25% {
                opacity: 0.5;
            }
            30%, 100% {
                opacity: 0;
            }
        }

        .energy-field {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center,
                transparent 0%,
                rgba(255, 0, 0, 0.05) 30%,
                rgba(255, 0, 0, 0.1) 50%,
                rgba(255, 0, 0, 0.05) 70%,
                transparent 100%);
            animation: energyPulse 4s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes energyPulse {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                opacity: 0.3;
            }
            50% {
                transform: scale(1.2) rotate(180deg);
                opacity: 0.5;
            }
        }
        .shooting-stars-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 1;
        }

        .shooting-star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            filter: blur(1px);
            animation: shootingStar var(--duration) linear forwards;
            opacity: 0;
        }

        .shooting-star::before {
            content: '';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 1px;
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 1), 
                rgba(255, 255, 255, 0.5),
                transparent);
            box-shadow: 
                0 0 5px rgba(255, 255, 255, 0.7),
                0 0 10px rgba(255, 255, 255, 0.5),
                0 0 15px rgba(255, 255, 255, 0.3);
        }

        .shooting-star::after {
            content: '';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 15px;
            height: 1px;
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.8), 
                rgba(255, 255, 255, 0.4),
                transparent);
            filter: blur(1px);
            animation: starTail var(--duration) ease-out forwards;
        }

        @keyframes shootingStar {
            0% {
                opacity: 1;
                transform: translate(var(--startX), var(--startY)) rotate(var(--angle));
            }
            100% {
                opacity: 0;
                transform: translate(var(--endX), var(--endY)) rotate(var(--angle));
            }
        }

        @keyframes starTail {
            0% {
                opacity: 1;
                width: 15px;
            }
            30% {
                opacity: 1;
                width: 50px;
            }
            100% {
                opacity: 0;
                width: 60px;
            }
        }
        .social-icons {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            width: fit-content;
            margin-left: -44px;
            margin-right: auto;
        }

        .social-icon {
            color: #ffffff;
            font-size: 16px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 5px 10px;
            border-radius: 20px;
            background: rgba(255, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .social-icon i {
            font-size: 14px;
            position: relative;
            z-index: 2;
        }

        .social-icon .hashtag {
            font-size: 12px;
            font-family: 'Orbitron', sans-serif;
            white-space: nowrap;
            animation: fadeInOut 4s ease-in-out infinite;
            position: relative;
            z-index: 1;
        }

        @keyframes fadeInOut {
            0%, 100% {
                opacity: 0;
                transform: translateX(-10px);
            }
            25%, 75% {
                opacity: 1;
                transform: translateX(0);
            }
            50% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .social-icon:hover {
            background: rgba(255, 0, 0, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.2);
        }

        .social-icon:hover .hashtag {
            animation-play-state: paused;
            opacity: 1;
            transform: translateX(0);
        }

        .social-icons {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            width: fit-content;
            margin-left: -44px;
            margin-right: auto;
        }

        .social-icon:nth-child(1) .hashtag {
            animation-delay: 0s;
        }
        .social-icon:nth-child(2) .hashtag {
            animation-delay: 1s;
        }
        .social-icon:nth-child(3) .hashtag {
            animation-delay: 2s;
        }
        .social-icon:nth-child(4) .hashtag {
            animation-delay: 3s;
        }
     </style>   
</head>
<body>
    <div class="reproductor">
        <div class="lightning-container" id="lightningContainer"></div>
        <div class="thunder-glow" id="thunderGlow"></div>
        <div class="energy-field"></div>
        <div class="shooting-stars-container" id="shootingStarsContainer"></div>
        <div class="notas-container" id="notasContainer"></div>
        <button class="historial-btn" id="historialBtn">
            <i class="fas fa-history"></i> Historial
        </button>
        <div class="historial-container" id="historialContainer">
            <div id="sonic_history"></div>
        </div>
       
        <div id="sonic_art" class="album-art"></div>
        <div class="titulo">
            <span style="--i:1">R</span>
            <span style="--i:2">a</span>
            <span style="--i:3">d</span>
            <span style="--i:4">i</span>
            <span style="--i:5">o</span>
            <span style="--i:6">&nbsp;</span>
            <span style="--i:7">L</span>
            <span style="--i:8">a</span>
            <span style="--i:9">&nbsp;</span>
            <span style="--i:10">C</span>
            <span style="--i:11">a</span>
            <span style="--i:12">l</span>
            <span style="--i:13">l</span>
            <span style="--i:14">e</span>
        </div>
        <div class="control-buttons">
            <button class="control-btn" id="shuffle" title="Aleatorio">
                <i class="fas fa-random"></i>
            </button>
            <button class="control-btn" id="prev" title="Anterior">
                <i class="fas fa-step-backward"></i>
            </button>
            <button id="playPause" class="control-btn">▶</button>
            <button class="control-btn" id="next" title="Siguiente">
                <i class="fas fa-step-forward"></i>
            </button>
            <button class="control-btn" id="repeat" title="Repetir">
                <i class="fas fa-redo"></i>
            </button>
        </div>
        <div class="volumen">
            <i id="volumenIcon" class="fas fa-volume-up"></i>
            <input type="range" id="volumenControl" min="0" max="1" step="0.1" value="1">
        </div>
        <div class="dj-containerDJ">
        <i class="fas fa-compact-disc"></i>
            <div id="sonic_dj" class="dj-name"></div>
        </div>
        <div class="listeners-container">
            <i class="fas fa-headphones"></i>
            <div id="sonic_listeners" class="listeners-count"></div>
        </div>
        <h6 style="color: #fff;" id="fechaHora"></h6>
        <div class="dj-container">
            <div id="sonic_title" class="cancion-actual"></div>
        </div>

        <div class="social-icons">
            <a  class="social-icon" target="_blank">
                <i class="fab fa-facebook"></i>
                <span class="hashtag">#RadioLaCalle</span>
            </a>
            <a  class="social-icon" target="_blank">
                <i class="fab fa-instagram"></i>
                <span class="hashtag">#LaCalle</span>
            </a>
            <a  class="social-icon" target="_blank">
                <i class="fab fa-twitter"></i>
                <span class="hashtag">#RadioLaCalle</span>
            </a>
            <a  class="social-icon" target="_blank">
                <i class="fab fa-tiktok"></i>
                <span class="hashtag">#LaCalle</span>
            </a>
            
        </div>
        
        <h6 style="color: #fff;">&copy; 2025 Radio La Calle | Desarrollado by sebascript (59957067)</h6>
        
    </div>
    <script>
        // Función para actualizar fecha y hora
        function actualizarFechaHora() {
            const ahora = new Date();
            const diasSemana = ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'];
            const meses = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            
            const diaSemana = diasSemana[ahora.getDay()];
            const dia = ahora.getDate();
            const mes = meses[ahora.getMonth()];
            const año = ahora.getFullYear();
            const hora = ahora.getHours().toString().padStart(2, '0');
            const minutos = ahora.getMinutes().toString().padStart(2, '0');
            const segundos = ahora.getSeconds().toString().padStart(2, '0');
            
            document.getElementById('fechaHora').textContent = `${diaSemana} ${dia} de ${mes} del ${año} ${hora}:${minutos}:${segundos}`;
        }
        
        // Actualizar cada segundo
        actualizarFechaHora();
        setInterval(actualizarFechaHora, 1000);

        const audio = new Audio('https://antyserv.in/8218/stream');
        const playPauseBtn = document.getElementById('playPause');
        const volumenControl = document.getElementById('volumenControl');
        const estadoReproduccion = document.getElementById('estadoReproduccion');
        let reproduciendo = false;

        function getPuntoAleatorio() {
            return {
                x: Math.random() * 100,
                y: Math.random() * 100
            };
        }

        function crearNotaMusical() {
            const notas = ['♪', '♫', '♬', '♩'];
            const notasContainer = document.getElementById('notasContainer');
            
            // Crear nota musical
            const nota = document.createElement('div');
            nota.className = 'nota-musical';
            nota.textContent = notas[Math.floor(Math.random() * notas.length)];
            
            // Generar puntos de trayectoria
            const punto1 = getPuntoAleatorio();
            const punto2 = getPuntoAleatorio();
            const punto3 = getPuntoAleatorio();
            const punto4 = getPuntoAleatorio();
            const punto5 = getPuntoAleatorio();
            
            // Aplicar posición inicial y trayectoria
            nota.style.left = punto1.x + '%';
            nota.style.top = punto1.y + '%';
            nota.style.setProperty('--moveX1', '0%');
            nota.style.setProperty('--moveY1', '0%');
            nota.style.setProperty('--moveX2', (punto2.x - punto1.x) + '%');
            nota.style.setProperty('--moveY2', (punto2.y - punto1.y) + '%');
            nota.style.setProperty('--moveX3', (punto3.x - punto1.x) + '%');
            nota.style.setProperty('--moveY3', (punto3.y - punto1.y) + '%');
            nota.style.setProperty('--moveX4', (punto4.x - punto1.x) + '%');
            nota.style.setProperty('--moveY4', (punto4.y - punto1.y) + '%');
            nota.style.setProperty('--moveX5', (punto5.x - punto1.x) + '%');
            nota.style.setProperty('--moveY5', (punto5.y - punto1.y) + '%');
            
            const duracion = 4 + Math.random() * 2; // Duración más corta para un desvanecimiento más rápido
            nota.style.setProperty('--duracion', duracion + 's');
            
            notasContainer.appendChild(nota);
            
            // Crear partículas
            crearParticulas(punto1);
            
            // Eliminar la nota después de la animación
            setTimeout(() => {
                nota.style.animation = 'none'; // Detener la animación
                nota.remove(); // Eliminar la nota
            }, duracion * 1000);
        }

        function crearParticulas(puntoInicial) {
            const notasContainer = document.getElementById('notasContainer');
            const numParticulas = 2 + Math.floor(Math.random() * 2);
            
            for(let i = 0; i < numParticulas; i++) {
                const particula = document.createElement('div');
                particula.className = 'particula';
                
                const size = 2 + Math.random() * 3;
                particula.style.width = size + 'px';
                particula.style.height = size + 'px';
                
                // Posición inicial
                particula.style.left = puntoInicial.x + '%';
                particula.style.top = puntoInicial.y + '%';
                
                // Generar puntos de trayectoria
                const punto2 = getPuntoAleatorio();
                const punto3 = getPuntoAleatorio();
                const punto4 = getPuntoAleatorio();
                const puntoFinal = getPuntoAleatorio();
                
                particula.style.setProperty('--startX', '0%');
                particula.style.setProperty('--startY', '0%');
                particula.style.setProperty('--moveX2', (punto2.x - puntoInicial.x) + '%');
                particula.style.setProperty('--moveY2', (punto2.y - puntoInicial.y) + '%');
                particula.style.setProperty('--moveX3', (punto3.x - puntoInicial.x) + '%');
                particula.style.setProperty('--moveY3', (punto3.y - puntoInicial.y) + '%');
                particula.style.setProperty('--moveX4', (punto4.x - puntoInicial.x) + '%');
                particula.style.setProperty('--moveY4', (punto4.y - puntoInicial.y) + '%');
                particula.style.setProperty('--endX', (puntoFinal.x - puntoInicial.x) + '%');
                particula.style.setProperty('--endY', (puntoFinal.y - puntoInicial.y) + '%');
                
                const duracion = 6 + Math.random() * 3;
                particula.style.animation = `particula ${duracion}s ease-in-out forwards`;
                
                notasContainer.appendChild(particula);
                
                setTimeout(() => particula.remove(), duracion * 1000);
            }
        }

        function crearBrillos() {
            const notasContainer = document.getElementById('notasContainer');
            
            // Crear un brillo en posición aleatoria
            const brillo = document.createElement('div');
            brillo.className = 'brillo';
            
            // Determinar tamaño aleatorio
            const tipo = Math.random();
            if (tipo < 0.3) {
                brillo.classList.add('brillo-pequeno');
                brillo.style.setProperty('--max-opacity', '0.4');
                brillo.style.setProperty('--min-opacity', '0.2');
            } else if (tipo > 0.7) {
                brillo.classList.add('brillo-grande');
                brillo.style.setProperty('--max-opacity', '0.2');
                brillo.style.setProperty('--min-opacity', '0.1');
            } else {
                brillo.style.setProperty('--max-opacity', '0.3');
                brillo.style.setProperty('--min-opacity', '0.15');
            }
            
            // Posición aleatoria dentro del reproductor
            const punto = getPuntoAleatorio();
            brillo.style.left = punto.x + '%';
            brillo.style.top = punto.y + '%';
            
            // Duración aleatoria
            const duracion = 3 + Math.random() * 3;
            brillo.style.setProperty('--duracion', duracion + 's');
            
            notasContainer.appendChild(brillo);
            
            // Eliminar el brillo después de la animación
            setTimeout(() => {
                brillo.remove();
            }, duracion * 1000);
        }

        // Crear notas solo cuando se está reproduciendo música
        let notasInterval;
        let particlesInterval;
        let brillosInterval;
        
        playPauseBtn.addEventListener('click', () => {
            if (reproduciendo) {
                audio.pause();
                playPauseBtn.innerHTML = '▶';
                reproduciendo = false;
                clearInterval(notasInterval);
                clearInterval(particlesInterval);
                clearInterval(brillosInterval);
            } else {
                audio.play();
                playPauseBtn.innerHTML = '⏸';
                reproduciendo = true;
                // Crear efectos iniciales (más notas)
                for(let i = 0; i < 12; i++) {
                    setTimeout(() => {
                        crearNotaMusical();
                        crearBrillos();
                        // Crear notas adicionales en diferentes posiciones
                        for(let j = 0; j < 2; j++) {
                            setTimeout(crearNotaMusical, j * 150);
                        }
                    }, Math.random() * 1500);
                }
                // Crear notas cada 500ms (más frecuente)
                notasInterval = setInterval(crearNotaMusical, 500);
                // Crear brillos cada segundo
                brillosInterval = setInterval(crearBrillos, 1000);
                // Crear partículas adicionales cada 1.5 segundos
                particlesInterval = setInterval(() => {
                    const punto = getPuntoAleatorio();
                    crearParticulas(punto);
                    // Crear múltiples notas en diferentes posiciones
                    for(let i = 0; i < 3; i++) {
                        setTimeout(crearNotaMusical, i * 100);
                    }
                }, 1500);
            }
        });

        volumenControl.addEventListener('input', (e) => {
            audio.volume = e.target.value;
            actualizarIconoVolumen(e.target.value);
        });

        const volumenIcon = document.getElementById('volumenIcon');
        let volumeBeforeMute = 1;

        function actualizarIconoVolumen(valor) {
            if (valor == 0) {
                volumenIcon.className = 'fas fa-volume-mute';
            } else if (valor < 0.5) {
                volumenIcon.className = 'fas fa-volume-down';
            } else {
                volumenIcon.className = 'fas fa-volume-up';
            }
        }

        volumenIcon.addEventListener('click', () => {
            if (audio.volume > 0) {
                volumeBeforeMute = audio.volume;
                audio.volume = 0;
                volumenControl.value = 0;
                actualizarIconoVolumen(0);
            } else {
                audio.volume = volumeBeforeMute;
                volumenControl.value = volumeBeforeMute;
                actualizarIconoVolumen(volumeBeforeMute);
            }
        });

        audio.addEventListener('playing', () => {
        });

        audio.addEventListener('error', () => {
        });

        audio.addEventListener('waiting', () => {
        });

        // Variables para el manejo del DJ
        const sonicDj = document.getElementById('sonic_dj');
        let usingAutoDj = true;

        // Función para verificar y actualizar el estado del DJ
        function actualizarDj() {
            const currentText = sonicDj.textContent.trim();
            if (currentText === '' || currentText === '--' || currentText === 'No DJ' || currentText === 'no DJ') {
                sonicDj.textContent = 'Auto Dj';
                usingAutoDj = true;
            } else if (currentText !== 'Auto Dj') {
                usingAutoDj = false;
            } else if (usingAutoDj) {
                sonicDj.textContent = 'Auto Dj';
            }

            if (sonicDj.textContent.trim() === '') {
                sonicDj.textContent = 'Auto Dj';
                usingAutoDj = true;
            }
        }

        // Verificar el DJ cada segundo
        setInterval(actualizarDj, 1000);

        // Manejo del botón de historial
        const historialBtn = document.getElementById('historialBtn');
        const historialContainer = document.getElementById('historialContainer');

        // Evento click para mostrar/ocultar el historial
        historialBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            historialContainer.classList.toggle('mostrar');
        });

        // Cerrar el historial al hacer click fuera de él
        document.addEventListener('click', (e) => {
            if (!historialBtn.contains(e.target) && !historialContainer.contains(e.target)) {
                historialContainer.classList.remove('mostrar');
            }
        });

        // Prevenir que el click dentro del historial lo cierre
        historialContainer.addEventListener('click', (e) => {
            e.stopPropagation();
        });

        // Actualizar posición al redimensionar la ventana
        window.addEventListener('resize', () => {
            if (historialContainer.classList.contains('mostrar')) {
                // No es necesario llamar a posicionarHistorial() aquí,
                // ya que la posición es fija con top y right.
            }
        });

        // Agregar después de las variables existentes
        const shuffleBtn = document.getElementById('shuffle');
        const prevBtn = document.getElementById('prev');
        const nextBtn = document.getElementById('next');
        const repeatBtn = document.getElementById('repeat');
        let isShuffleActive = false;
        let isRepeatActive = false;

        shuffleBtn.addEventListener('click', () => {
            isShuffleActive = !isShuffleActive;
            shuffleBtn.classList.toggle('active');
        });

        repeatBtn.addEventListener('click', () => {
            isRepeatActive = !isRepeatActive;
            repeatBtn.classList.toggle('active');
        });

        prevBtn.addEventListener('click', () => {
            // Aquí iría la lógica para la canción anterior
            console.log('Anterior');
        });

        nextBtn.addEventListener('click', () => {
            // Aquí iría la lógica para la siguiente canción
            console.log('Siguiente');
        });

        const lightningContainer = document.getElementById('lightningContainer');
        const thunderGlow = document.getElementById('thunderGlow');

        function createLightning() {
            const types = ['normal', 'zigzag', 'branch'];
            const type = types[Math.floor(Math.random() * types.length)];
            
            const lightning = document.createElement('div');
            lightning.className = type === 'normal' ? 'lightning' :
                                type === 'zigzag' ? 'lightning-zigzag' : 'lightning-branch';
            
            // Posición aleatoria
            const x = Math.random() * 100;
            const y = Math.random() * 100;
            lightning.style.left = `${x}%`;
            lightning.style.top = `${y}%`;
            
            // Rotación y tamaño aleatorio
            const rotation = Math.random() * 360;
            const scale = 1 + Math.random() * 2;
            lightning.style.transform = `rotate(${rotation}deg) scale(${scale})`;
            
            // Duración y animación según el tipo
            const duration = 0.5 + Math.random() * 0.5;
            const animation = type === 'normal' ? 'lightningFlash' :
                            type === 'zigzag' ? 'lightningZigzag' : 'lightningBranch';
            lightning.style.animation = `${animation} ${duration}s linear`;
            
            // Efecto de flash
            const flash = document.createElement('div');
            flash.className = 'thunder-flash';
            flash.style.setProperty('--x', `${x}%`);
            flash.style.setProperty('--y', `${y}%`);
            flash.style.animation = `thunderFlash ${duration}s linear`;
            
            lightningContainer.appendChild(lightning);
            lightningContainer.appendChild(flash);
            
            // Eliminar elementos después de la animación
            setTimeout(() => {
                lightning.remove();
                flash.remove();
            }, duration * 1000);
        }

        function startLightningEffect() {
            setInterval(() => {
                if (Math.random() < 0.4) { // 40% de probabilidad
                    const numLightnings = Math.floor(Math.random() * 4) + 1;
                    for(let i = 0; i < numLightnings; i++) {
                        setTimeout(createLightning, i * 100);
                    }
                }
            }, 1500);
        }

        // Iniciar efectos
        startLightningEffect();

        // Reproducción automática cuando la página carga
        window.addEventListener('load', () => {
            audio.play().then(() => {
                playPauseBtn.innerHTML = '⏸';
                reproduciendo = true;
                // Iniciar efectos visuales
                for(let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        crearNotaMusical();
                        crearBrillos();
                    }, Math.random() * 1000);
                }
                
                // Iniciar intervalos de efectos
                notasInterval = setInterval(crearNotaMusical, 2000);
                brillosInterval = setInterval(crearBrillos, 1500);
                particlesInterval = setInterval(() => {
                    const punto = getPuntoAleatorio();
                    crearParticulas(punto);
                }, 3000);
            }).catch(error => {
                console.log('Reproducción automática bloqueada por el navegador:', error);
                // El navegador requiere interacción del usuario
            });
        });

        // Manejar cuando el audio se detiene por cualquier razón
        audio.addEventListener('pause', () => {
            playPauseBtn.innerHTML = '▶';
            reproduciendo = false;
            // waveSound.classList.add('paused'); // waveSound no está definido en el HTML
            clearInterval(notasInterval);
            clearInterval(particlesInterval);
            clearInterval(brillosInterval);
        });

        // Manejar cuando el audio se reanuda
        audio.addEventListener('play', () => {
            playPauseBtn.innerHTML = '⏸';
            reproduciendo = true;
            // Reiniciar efectos visuales
            for(let i = 0; i < 5; i++) {
                setTimeout(() => {
                    crearNotaMusical();
                    crearBrillos();
                }, Math.random() * 1000);
            }
            
            notasInterval = setInterval(crearNotaMusical, 2000);
            brillosInterval = setInterval(crearBrillos, 1500);
            particlesInterval = setInterval(() => {
                const punto = getPuntoAleatorio();
                crearParticulas(punto);
            }, 3000);
        });

        const shootingStarsContainer = document.getElementById('shootingStarsContainer');

        function createShootingStar() {
            const star = document.createElement('div');
            star.className = 'shooting-star';
            
            // Calcular trayectoria
            const angle = Math.random() * 60 - 30; // -30 a 30 grados
            const startX = Math.random() * 100 + 50; // Empezar fuera del contenedor
            const startY = -10;
            const distance = 400 + Math.random() * 200;
            const angleRad = (angle * Math.PI) / 180;
            const endX = startX - (distance * Math.cos(angleRad));
            const endY = startY + (distance * Math.sin(angleRad));
            
            // Aplicar estilos
            star.style.setProperty('--startX', `${startX}px`);
            star.style.setProperty('--startY', `${startY}px`);
            star.style.setProperty('--endX', `${endX}px`);
            star.style.setProperty('--endY', `${endY}px`);
            star.style.setProperty('--angle', `${angle}deg`);
            star.style.setProperty('--duration', `${0.6 + Math.random() * 0.4}s`);
            
            shootingStarsContainer.appendChild(star);
            
            // Eliminar la estrella después de la animación
            setTimeout(() => {
                star.remove();
            }, 2000);
        }

        function startShootingStars() {
            setInterval(() => {
                if (Math.random() < 0.3) { // 30% de probabilidad
                    const numStars = Math.floor(Math.random() * 2) + 1;
                    for(let i = 0; i < numStars; i++) {
                        setTimeout(createShootingStar, i * 200);
                    }
                }
            }, 2000);
        }

        // Iniciar efectos de estrellas fugaces
        startShootingStars();
    </script>
</body>
</html>